<!-- CompanyInfo.razor -->
<div>
    <h2 class="text-2xl font-semibold mb-4 w-full">Företagsinformation</h2>
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4 w-full">
        <div class="mb-4">
            <label class="text-gray-700">Logotyp</label>
            <!-- lägg till logga senare -->
            <div class="border p-2 w-full bg-gray-200">Placeholder for Logo Upload</div>
        </div>
        <div class="mb-4">
            <label class="text-gray-700">Företagsnamn</label>
            <select class="border p-2 w-full" @bind-value="@SelectedCompanyName" @onchange="HandleCompanyNameChange" @bind-value:event="oninput">
                <option value="Default">---</option>
                <option value="Valei AB">Valei AB</option>
                <!-- Add more options if needed -->
            </select>

        </div>
        <div class="mb-4">
            <label class="text-gray-700">Adress</label>
            <select class="border p-2 w-full" @bind="SelectedAddress">
                <option value="Default">---</option>
                <option value="Olaigatan 17 A, 703 61 Örebro">Olaigatan 17 A, 703 61 Örebro</option>
                <!-- Lägg till fler options om du vill -->
            </select>
        </div>
        <div class="mb-4">
            <label class="text-gray-700">Org-nr</label>
            <select class="border p-2 w-full" @bind="SelectedOrgNr">
                <option value="Default">---</option>
                <option value="559037-2164">559037-2164</option>
                <!-- Lägg till fler options om du vill -->
            </select>
        </div>
        <div class="mb-4">
            <label class="text-gray-700">Telefon</label>
            <select class="border p-2 w-full" @bind="SelectedPhoneNumber">
                <option value="Default">---</option>
                <option value="019 300 100">019 300 100</option>
            </select>
        </div>
    </div>
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4 w-full">
        <div class="mb-4">
            <label class="text-gray-700">Kassa</label>
            <select class="border p-2 w-full">
                <option value="kassa1">Kassa 1</option>
                <option value="kassa2">Kassa 2</option>
            </select>
        </div>
        <div class="mb-4">
            <label class="text-gray-700">Säljare</label>
            <select class="border p-2 w-full" @bind="@SelectedSeller" @onchange="HandleSellerChange" @bind:event="oninput">
                <option value="defaultseller">---</option>
                <option value="Oskar">Oskar</option>
                <option value="Linus">Linus</option>
                <option value="Erick">Erick</option>
            </select>
        </div>
        <h2 class="text-2xl font-semibold mb-4 w-full">Kvittorader</h2>
    </div>
</div>

<p>@SelectedCompanyName @SelectedSeller</p>

@code {
    [Parameter] 
    public string SelectedCompanyName { get; set; }

    [Parameter] 
    public string SelectedSeller { get; set; }

    [Parameter] 
    public string SelectedAddress { get; set; }

    [Parameter]
    public string SelectedOrgNr { get; set; }

    [Parameter] 
    public string SelectedPhoneNumber { get; set; }

    [Parameter]
    public EventCallback<string> SelectedCompanyNameChanged { get; set; }

    [Parameter]
    public EventCallback<string> SelectedSellerChanged { get; set; }


    private void HandleCompanyNameChange(ChangeEventArgs e)
    {
        SelectedCompanyName = e.Value?.ToString();
        Console.WriteLine($"Selected Company Name: {SelectedCompanyName}");

        if (SelectedCompanyName == "Valei AB")
        {
            SelectedAddress = "Olaigatan 17 A, 703 61 Örebro";
            SelectedOrgNr = "559037-2164";
            SelectedPhoneNumber = "019 300 100";

            StateHasChanged();
        }
        else
        {
            SelectedAddress = string.Empty;
            SelectedOrgNr = string.Empty;
            SelectedPhoneNumber = string.Empty;
            StateHasChanged();
        }
    }

    private void HandleSellerChange(ChangeEventArgs e)
    {
        SelectedSeller = e.Value?.ToString();
        Console.WriteLine($"Selected Seller: {SelectedSeller}");
        StateHasChanged();
    }
}
